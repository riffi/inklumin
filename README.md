# üåü Inklumin Monorepository

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å–µ—Ä–≤–∏—Å–∞ **Inklumin**. –≠—Ç–æ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –≤–∫–ª—é—á–∞—é—â–∏–π —Å–ª–µ–¥—É—é—â–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –ø—Ä–æ–µ–∫—Ç—ã:


| Directory | Service | Stack |
|-----------|---------|-------|
| **`inklumin-front`** | –§—Ä–æ–Ω—Ç-—ç–Ω–¥ —Å–µ—Ä–≤–∏—Å–∞ | React + Vite + Dexie + PWA |
| **`inklumin-back`** | –û—Å–Ω–æ–≤–Ω–æ–π –±—ç–∫-—ç–Ω–¥ —Å–µ—Ä–≤–∏—Å–∞ | Java / Spring Boot |
| **`inklumin-ml`** | ML —Å–µ—Ä–≤–∏—Å | Python / Flask |
| **`inklumin-landing`** | –õ–µ–Ω–¥–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–µ—Ä–≤–∏—Å–∞ | HTML |
---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π¬†—Å—Ç–∞—Ä—Ç

### 1. Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è Docker –∏ Docker Compose.

1. –°–æ–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏—Ö:
   ```bash
   docker compose up --build -d
   ```
   –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤,
   –∑–∞–¥–∞–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `INKLUMIN_API_URL` –≤ `docker-compose.yml`.
2. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://localhost,
   API ‚Äî –Ω–∞ http://localhost:8080,
   —Å–µ—Ä–≤–∏—Å ML ‚Äî –Ω–∞ http://localhost:5123.

–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π `docker compose down`.

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ README —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤.

Front-back –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç openapi.yaml

–ö–∞–∂–¥—ã–π –∏–∑ –ø—Ä–æ–µ–∫—Ç–æ–≤ –º–æ–∂–µ—Ç —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.

–ù–∏–∂–µ –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤, –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞.

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è
### inklumin-front 
InkLumin - –±—Ä–∞—É–∑–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è–º–∏, —Å—Ü–µ–Ω–∞–º–∏ –∏ –∑–∞–º–µ—Ç–∫–∞–º–∏. –û–Ω–æ —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –≤–µ—Å—Ç–∏ –ë–∞–∑—É –ó–Ω–∞–Ω–∏–π. –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø–∏—Å–∞–Ω—ã –≤ front-end README:

```
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è–º–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞–º–∏/–≥–ª–∞–≤–∞–º–∏
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∞–º–∏
* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π ("Blocks" –∏ "Block Instances")
* –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç React —Å Mantine UI, Zustand –¥–ª—è —Å—Ç–µ–π—Ç –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ –∏ Dexie –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–æ–π IndexedDB. –†–æ—É—Ç–∏–Ω–≥ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è React Router DOM, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ TipTap. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ —Å–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è Vite —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º TypeScript.

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç –ª–æ–∫–∞–ª—å–Ω–æ, —É–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
cd inklumin-front
yarn install
VITE_INKLUMIN_API_URL=http://localhost:8080/api yarn dev
```

Dev server –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 5173 –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é.

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏ –∑–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ Ubuntu —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js. –ü—Ä–∏–º–µ—Ä –¥–ª—è –≤–µ—Ä—Å–∏–∏ 22.x:

```bash
curl -fsSL https://deb.nodesource.com/setup_22.x | sudo -E bash -
sudo apt-get install -y nodejs
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–∫–ª—é—á–∏—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É `corepack`, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é Yarn:

```bash
corepack enable
```

–°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ñ–∞–π–ª–∞ `.yarn/releases/yarn-4.8.1.cjs`:

```bash
cd inklumin-front
node .yarn/releases/yarn-4.8.1.cjs install
VITE_INKLUMIN_API_URL=http://localhost:8080/api \
node .yarn/releases/yarn-4.8.1.cjs build
```

–ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç `build.sh` –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –∑–∞–¥–∞–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
`VITE_INKLUMIN_API_URL`.


#### –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Tauri

##### dev
```bash
npm run dev
npx tauri dev
```

##### production
```bash
npm run build
npx tauri build
```

### inklumin-back
–ë—ç–∫—ç–Ω–¥ - Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–µ–µ REST —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
–ß–∞—Å—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ front –≤ ml
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–ø—É—Å–∫–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã. 
–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Entity/Controller `User`, `UserBook` –∏ `UserConfigData` –¥–ª—è `/api/auth`, `/api/books` –∏ `/api/user`.

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ `src/main/resources/application.yml`:

```
server:
  port: 8080
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/inklumin
```

–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ Maven:

```bash
cd inklumin-back
./mvnw spring-boot:run
```

### inklumin-ml
–ü—Ä–æ–µ–∫—Ç - –Ω–µ–±–æ–ª—å—à–æ–µ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–µ–µ —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞, —Ç–∞–∫–∏–µ –∫–∞–∫ –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–±–æ—Ä, —Å–∫–ª–æ–Ω–µ–Ω–∏–µ —Ñ—Ä–∞–∑ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–æ–≤ –∏ —à—Ç–∞–º–ø–æ–≤ –≤ —Ç–µ–∫—Å—Ç–µ.
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 5123.

–í `app.py` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `/get_cases`, `/find_repeats` and `/analyze_cliches`:

```
@app.route('/get_cases', methods=['POST'])
@cross_origin()
@token_required
```

–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```bash
cd inklumin-ml
python app.py
```
### inklumin-landing
–ü—Ä–æ—Å—Ç–∞—è html –ª–µ–Ω–¥–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü–∞, —Å—Ç–∞—Ç–∏–∫–∞ –Ω–∞ nginx

## –ö–æ–Ω—Ç—Ä–∞–∫—Ç –º–µ–∂–¥—É —Ñ—Ä–æ–Ω—Ç—ç–Ω–¥ –∏ –±—ç–∫—ç–Ω–¥ - openapi.yaml
- `openapi.yaml` —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤ inklumin-front
  ```bash
  npx openapi-typescript-codegen --input openapi.yaml \
    --output inklumin-front/src/api/inkLuminApi --name inkLuminApi.ts
  ```
  –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (`inkLuminApi.ts` –∏ `generatedTypes.ts`) –ø–æ—è–≤—è—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
  `inklumin-front/src/api/inkLuminApi`.

## –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–û–ø–∏—Å–∞–Ω—ã –≤ `/docs/features.md`

## –ù–µ–¥–æ—Å—Ç–∞—é—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ö–µ–º—ã –º–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è `inklumin-back`.
- –ù–µ—Ç —Ä–∞–∑–¥–µ–ª–∞ –æ –∑–∞–ø—É—Å–∫–µ `inklumin-back` –∏ `inklumin-ml` –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

- –ù–µ –æ–ø–∏—Å–∞–Ω –ø—Ä–æ—Ü–µ—Å—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ª–∏–Ω—Ç–∏–Ω–≥–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.
